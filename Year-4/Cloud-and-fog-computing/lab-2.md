В качестве выбора облачной платформы рассматривались следующие варианты:

* Timeweb: не предоставляет большинства необходимых сервисов.

* VK Cloud, ITGLOBAL.com, Sber Cloud, MTS Cloud: предоставляют часть необходимых сервисов, однако не устраивает тарифный план. Кроме того, не было опыта в использовании данных облачных провайдеров.

* Yandex Cloud: имели опыт разработки. Есть список требуемых сервисов, удовлетворяет тарифный план. Есть пробный период и грант в 4000 рублей, чего хватит для выполнения нашего проекта. Не подходит в качестве провайдера VM для тачки с GPU, так как с ней не получится поместиться в тарифный план.

* Selectel: имеет самый приятный тарифный план для облачных сервисов с GPU из перечисленных выше. Будем использовать для поднятия сервера с нейронными сетями.

Таким образом, в качестве облачных платформ следующие:

1) Selectel - VM с GPU.

2) Yandex Cloud - остальные сервисы.

Описание для сервисов:

1.1. VM с GPU. Требуется для работы с нейронными сетями (22 рубля в час, виртуалка будет создаваться по требованию)

1.2. Compute Cloud. Выступает в роли сервера для обработки пользовательских запросов. Cloud Functions не подходит, так как на сервер будет налагаться функция постоянной обработки запросов для фронтенда и API. Таким образом, выгоднее платить за время использования, а не за кол-во вызовов. (минимум 116.80 рублей в месяц за 40ГБ пространства, 2204,80 рублей в месяц за ВМ в состоянии RUNNING - во периоды простоя виртуалка будет выключаться - вкладываемся в первую часть гранта Yandex Cloud)

2. YDB. Используем ее, хотя до этого опыта не имели, потому что на нее налагаются нетарифицируемые льготы. Было проверено, что имеются драйверы для ЯП-ов, на которых будет писаться сервер. Скорость работы особо не имеет значения, хотя она работает быстрее на больших объемах данных по сравнению с Postgres. (бесплатно, мы будем потреблять менее 1 млн Request Units в месяц)

3. Yandex Object Storage. Хорошо подходит для инференции с сервера машинного обучения, где используются данные произвольного формата. (до 10 ГБ, 20.1 рублей в месяц)

4. TLS Certificate Manager. Просто сервис для управления TLS сертификатами для домена. (бесплатно)

5. Yandex Message Queue. Выбрали ее, так как в системе требуется простая очередь. Не взяли пока Apache Kafka, так как не требуется высокая пропускная способность и то, что сообщения не будут удаляться после того, как адресат обработает данные. Решение может поменяться при обновлении ТЗ к проекту. (первые 100000 запросов в месяц бесплатно)

6. Managed Service for MongoDB. Для сбора нашей аналитики требуется гибкая структура, поэтому документоориентированная NoSQL БД хорошо этому подходит. Кроме того, для простой обработки полученных данных будет удобно воспользоваться функцией map-reduce.


Совместный проект с P34121 Лысенко Данила.

Куратор: Теплых Андрей
